(()=>{function o(o,s){return null!=o.find((o=>JSON.stringify(o)===JSON.stringify(s)))}class s{constructor(o,s){this.coords=[o,s],this.nextMoves=[]}}let r=new class{constructor(o){this.numVertices=o,this.AdjList=new Map}addVertex(o){this.AdjList.set(o,[])}getVertex(o,s){for(let[r,t]of this.AdjList)if(o===r[0]&&s===r[1])return[r,t]}addEdge(o,s){this.AdjList.get(o).push(s)}printGraph(){let o=this.AdjList.keys();for(let s of o)this.AdjList.get(s);for(let o of getValues)conc+=o+" ";console.log(i+" -> "+conc)}}(64),t=[];for(let o=0;o<8;o++)for(let r=0;r<8;r++){let v=new s(o,r);t.push(v)}for(v of t)v.coords[0]+2<8&&v.coords[1]+1<8&&v.nextMoves.push(v.coords[0]+2,v.coords[1]+1),v.coords[0]+1<8&&v.coords[1]+2<8&&v.nextMoves.push(v.coords[0]+1,v.coords[1]+2),v.coords[0]-1>=0&&v.coords[1]+2<8&&v.nextMoves.push(v.coords[0]-1,v.coords[1]+2),v.coords[0]-2>=0&&v.coords[1]+1<8&&v.nextMoves.push(v.coords[0]-2,v.coords[1]+1),v.coords[0]-2>=0&&v.coords[1]-1>=0&&v.nextMoves.push(v.coords[0]-2,v.coords[1]-1),v.coords[0]-1>=0&&v.coords[1]-2>=0&&v.nextMoves.push(v.coords[0]-1,v.coords[1]-2),v.coords[0]+1<8&&v.coords[1]-2>=0&&v.nextMoves.push(v.coords[0]+1,v.coords[1]-2),v.coords[0]+2<8&&v.coords[1]-1>=0&&v.nextMoves.push(v.coords[0]+2,v.coords[1]-1);var e;console.log(function s(t,c,d=[e],i=[]){let n=`${JSON.stringify(t)}`,f=r.getVertex(t[0],t[1])[1];for(v of f)if(JSON.stringify(v)===JSON.stringify(c))return d.push(c),n+=` ${JSON.stringify(v)}`,console.log(n),n;for(v of f)o(d,v)||(d.push(v),i.push(v));let u=i[0];i.shift();let h=s(u,c,d,i);return h.includes(JSON.stringify(c))&&(n+=h),""}(e=[3,3],[0,0]))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YyxLQUFLUixFQUFFUCxPQUFPLEdBQUcsRUFBR08sRUFBRVAsT0FBTyxHQUFHLEdBaUJwRCxJQUFxQjJCLEVBMkNyQkosUUFBUUMsSUF6Q0osU0FBU0ksRUFBbUJDLEVBQVVDLEVBQUtDLEVBQVEsQ0FBQ0osR0FBUUssRUFBTSxJQUM5RCxJQUFJQyxFQUFlLEdBQUd4QyxLQUFLQyxVQUFVbUMsS0FFakNLLEVBQVFoQyxFQUFTTyxVQUFVb0IsRUFBUyxHQUFHQSxFQUFTLElBQUksR0FFeEQsSUFBS3RCLEtBQUsyQixFQUVOLEdBQUl6QyxLQUFLQyxVQUFVYSxLQUFPZCxLQUFLQyxVQUFVb0MsR0FLckMsT0FKQUMsRUFBUWhCLEtBQUtlLEdBQ2JHLEdBQWdCLElBQUl4QyxLQUFLQyxVQUFVYSxLQUNuQ2dCLFFBQVFDLElBQUlTLEdBRUxBLEVBS2YsSUFBSzFCLEtBQUsyQixFQUVEOUMsRUFBZTJDLEVBQVN4QixLQUN6QndCLEVBQVFoQixLQUFLUixHQUNieUIsRUFBTWpCLEtBQUtSLElBS25CLElBQUk0QixFQUFhSCxFQUFNLEdBQ3ZCQSxFQUFNSSxRQUVMLElBQUlDLEVBQWdCVCxFQUFtQk8sRUFBWUwsRUFBS0MsRUFBU0MsR0FNbEUsT0FKS0ssRUFBY0MsU0FBUzdDLEtBQUtDLFVBQVVvQyxNQUN2Q0csR0FBZ0JJLEdBR2IsRUFDWCxDQUVPVCxDQXhDVUQsRUE0Q1QsQ0FBQyxFQUFFLEdBQUksQ0FBQyxFQUFFLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b3Ata25pZ2h0cy10cmF2YWlscy8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL3RoaXMgcmVhbGx5IGlzbid0IHdvcmtpbmcgb3V0IGZvciBzb21lIHJlYXNvbi4uLiBpJ2xsIGVpdGhlciBjaGVjayBvdXQgdGhlaXIgd2F5LCBvci4uLlxuLy8gbWF5IG5lZWQgYWRqYWNlbmN5IGxpc3QsIHZlbmVyYXRlIHRoZSBncmFwaCByYXRoZXIgdGhhbiB0aGUgdHJlZVxuXG4vLyB3aGF0J3Mgd3Jvbmcgd2l0aCBtZSBzZWFyY2hpbmcgZm9yIHdoYXQgdG8gZG8/XG4vLyBpIGRvbid0IGtub3cgd2hhdCBxdWVzdGlvbnMgdG8gYXNrLi4uIGknbSBibGluZGZvbGRlZFxuXG4vLyB0ZXN0cyBpZiBhbiBhcnJheSBpcyBpbiBhbm90aGVyIGFycmF5LiByZXF1aXJlZCwgYXMgY29vcmRpbmF0ZXMgYXJlIGluIGFycmF5cy5cbmZ1bmN0aW9uIGlzQXJyYXlJbkFycmF5KGFycmF5LCBpdGVtKSB7XG4gICAgbGV0IHJlc3VsdCA9IGFycmF5LmZpbmQoKGVsKT0+IHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVsKSA9PT0gSlNPTi5zdHJpbmdpZnkoaXRlbSlcbiAgICB9KVxuICAgIHJldHVybiByZXN1bHQgIT0gbnVsbDtcbn1cblxuLy8gcmVxdWlyZWQgdG8gY29uc3RydWN0IHRyZWUgZm9yIHJlY3Vyc2l2ZSB0cmF2ZXJzYWxcblxuLy8gbGV0J3MgdHJ5IHRvIHJlcGxhY2UgdGhlIGNvb3JkaW5hdGVzIHdpdGggbm9kZXNcbmNsYXNzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbCwgcm93KSB7XG4gICAgICAgIHRoaXMuY29vcmRzID0gW2NvbCwgcm93XVxuICAgICAgICB0aGlzLm5leHRNb3ZlcyA9IFtdXG4gICAgfVxufVxuXG4vLyBjb250YWlucyBlYWNoIHBvc2l0aW9uIGFuZCB0aGVpciBtb3Zlc1xuY2xhc3MgR3JhcGgge1xuICAgIGNvbnN0cnVjdG9yKG51bVZlcnRpY2VzKSB7XG4gICAgICAgIHRoaXMubnVtVmVydGljZXMgPSBudW1WZXJ0aWNlcztcbiAgICAgICAgdGhpcy5BZGpMaXN0ID0gbmV3IE1hcCgpO1xuICAgIH1cblxuICAgIGFkZFZlcnRleCh2KSB7XG4gICAgICAgIHRoaXMuQWRqTGlzdC5zZXQodiwgW10pXG4gICAgfVxuXG4gICAgZ2V0VmVydGV4KGNvbCwgcm93KSB7XG4gICAgICAgIGZvciAobGV0IFt2ZXJ0ZXgsIG1vdmVzTGlzdF0gb2YgdGhpcy5BZGpMaXN0KSB7XG4gICAgICAgICAgICBpZiAoY29sID09PSB2ZXJ0ZXhbMF0gJiYgcm93ID09PSB2ZXJ0ZXhbMV0pIHtcbiAgICAgICAgICAgICAgICAvLyByZXR1cm4ga2V5XG4gICAgICAgICAgICAgICAgcmV0dXJuIFt2ZXJ0ZXgsIG1vdmVzTGlzdF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZEVkZ2Uodiwgdykge1xuICAgICAgICB0aGlzLkFkakxpc3QuZ2V0KHYpLnB1c2godyk7XG4gICAgfVxuXG4gICAgcHJpbnRHcmFwaCgpIHtcbiAgICAgICAgbGV0IGdldEtleXMgPSB0aGlzLkFkakxpc3Qua2V5cygpO1xuICAgICAgICBmb3IgKGxldCBpIG9mIGdldEtleXMpIHtcbiAgICAgICAgICAgIGxldCBnZXRWYWx1ZXMgPSB0aGlzLkFkakxpc3QuZ2V0KGkpXG4gICAgICAgICAgICBsZXQgY29uYyA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBqIG9mIGdldFZhbHVlcykgY29uYyArPSBqICsgXCIgXCI7XG4gICAgICAgIGNvbnNvbGUubG9nKGkgKyBcIiAtPiBcIiArIGNvbmMpO1xuICAgIH1cbn1cblxubGV0IG5ld0dyYXBoID0gbmV3IEdyYXBoKDY0KTtcbmxldCB2ZXJ0aWNlcyA9IFtdXG5sZXQgc2lkZUxlbmd0aCA9IDhcbi8vIHRoaXMgcG9wdWxhdGVzIHRoZSB2ZXJ0aWNlcyBhcnJheSB3aXRoIGNvb3JkaW5hdGVzIG9mIHRoZSBjaGVzc2JvYXJkXG5mb3IgKGxldCBpID0gMDsgaSA8IHNpZGVMZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgc2lkZUxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZXdOb2RlID0gbmV3IE5vZGUoaSwgailcbiAgICAgICAgLy8gbGV0IGNvb3JkcyA9IFtpLCBqXVxuICAgICAgICAvLyB2ZXJ0aWNlcy5wdXNoKGNvb3JkcylcbiAgICAgICAgdmVydGljZXMucHVzaChuZXdOb2RlKVxuICAgIH1cbn1cblxuLy8gbGV0J3Mgbm90IHVzZSBHcmFwaC4uLiBcbi8vIGFkZCBhbGwgdGhlc2UgdmVydGljZXMsIHRvIGluc2lkZSB0aGUgb2JqZWN0XG4vLyBmb3IgKHYgb2YgdmVydGljZXMpIHtcbi8vICAgICBuZXdHcmFwaC5hZGRWZXJ0ZXgodik7XG4vLyB9XG5cbi8vIHRyeSB0byBhZGQgdGhlICh1cCB0byApIDggcG9zc2libGUgbW92ZXMgZm9yIGVhY2ggdmVydGV4XG4vLyBmb3IgZWFjaCBvZiB0aGUgOCBtb3ZlcywgdGVzdCBpZiBvdXQgb2YgYm91bmRzXG4vLyBpZiBub3Qgb3V0IG9mIGJvdW5kcywgZ2V0IHRoZSByZXN1bHRpbmcgdmVydGV4IG9mIHRoZSBtb3ZlLCB0aGVuIGFkZCBpdCB0byB0aGUgbW92ZXMgbGlzdFxuZm9yICh2IG9mIHZlcnRpY2VzKSB7XG5cbiAgICAvLyB1cnJcbiAgICAvLyBpZiAodlswXSsyIDwgOCAmJiB2WzFdKzEgPCA4KSB7XG4gICAgaWYgKHYuY29vcmRzWzBdKzIgPCA4ICYmIHYuY29vcmRzWzFdKzEgPCA4KSB7XG4gICAgICAgIC8vIGxldCBtb3ZlID0gbmV3R3JhcGguZ2V0VmVydGV4KHZbMF0rMix2WzFdKzEpWzBdXG4gICAgICAgIHYubmV4dE1vdmVzLnB1c2godi5jb29yZHNbMF0rMiwgdi5jb29yZHNbMV0rMSlcbiAgICAgICAgLy8gbmV3R3JhcGguYWRkRWRnZSh2LCBtb3ZlKVxuICAgIH0gXG5cbiAgICAvL3V1clxuICAgIC8vIGlmICh2WzBdKzEgPCA4ICYmIHZbMV0rMiA8IDgpIHtcbiAgICBpZiAodi5jb29yZHNbMF0rMSA8IDggJiYgdi5jb29yZHNbMV0rMiA8IDgpIHtcbiAgICAgICAgLy8gbGV0IG1vdmUgPSBuZXdHcmFwaC5nZXRWZXJ0ZXgodlswXSsxLHZbMV0rMilbMF1cbiAgICAgICAgLy8gbmV3R3JhcGguYWRkRWRnZSh2LCBtb3ZlKVxuICAgICAgICB2Lm5leHRNb3Zlcy5wdXNoKHYuY29vcmRzWzBdKzEsIHYuY29vcmRzWzFdKzIpXG4gICAgfSBcblxuICAgIC8vdXVsXG4gICAgLy8gaWYgKHZbMF0tMSA+PTAgJiYgdlsxXSsyIDwgOCkge1xuICAgIGlmICh2LmNvb3Jkc1swXS0xID49MCAmJiB2LmNvb3Jkc1sxXSsyIDwgOCkge1xuICAgICAgICAvLyBsZXQgbW92ZSA9IG5ld0dyYXBoLmdldFZlcnRleCh2WzBdLTEsdlsxXSsyKVswXVxuICAgICAgICAvLyBuZXdHcmFwaC5hZGRFZGdlKHYsIG1vdmUpXG4gICAgICAgIHYubmV4dE1vdmVzLnB1c2godi5jb29yZHNbMF0tMSwgdi5jb29yZHNbMV0rMilcbiAgICB9IFxuXG4gICAgLy91bGxcbiAgICAvLyBpZiAodlswXS0yID49MCAmJiB2WzFdKzEgPCA4KSB7XG4gICAgaWYgKHYuY29vcmRzWzBdLTIgPj0wICYmIHYuY29vcmRzWzFdKzEgPCA4KSB7XG4gICAgICAgIC8vIGxldCBtb3ZlID0gbmV3R3JhcGguZ2V0VmVydGV4KHZbMF0tMix2WzFdKzEpWzBdXG4gICAgICAgIC8vIG5ld0dyYXBoLmFkZEVkZ2UodiwgbW92ZSlcbiAgICAgICAgdi5uZXh0TW92ZXMucHVzaCh2LmNvb3Jkc1swXS0yLCB2LmNvb3Jkc1sxXSsxKVxuICAgIH0gXG5cbiAgICAvL2RsbFxuICAgIC8vIGlmICh2WzBdLTIgPj0wICYmIHZbMV0tMSA+PTApIHtcbiAgICBpZiAodi5jb29yZHNbMF0tMiA+PTAgJiYgdi5jb29yZHNbMV0tMSA+PTApIHtcbiAgICAgICAgLy8gbGV0IG1vdmUgPSBuZXdHcmFwaC5nZXRWZXJ0ZXgodlswXS0yLHZbMV0tMSlbMF1cbiAgICAgICAgLy8gbmV3R3JhcGguYWRkRWRnZSh2LCBtb3ZlKVxuICAgICAgICB2Lm5leHRNb3Zlcy5wdXNoKHYuY29vcmRzWzBdLTIsIHYuY29vcmRzWzFdLTEpXG4gICAgfSBcblxuICAgIC8vZGRsXG4gICAgLy8gaWYgKHZbMF0tMSA+PTAgJiYgdlsxXS0yID49MCkge1xuICAgIGlmICh2LmNvb3Jkc1swXS0xID49MCAmJiB2LmNvb3Jkc1sxXS0yID49MCkge1xuICAgICAgICAvLyBsZXQgbW92ZSA9IG5ld0dyYXBoLmdldFZlcnRleCh2WzBdLTEsdlsxXS0yKVswXVxuICAgICAgICAvLyBuZXdHcmFwaC5hZGRFZGdlKHYsIG1vdmUpXG4gICAgICAgIHYubmV4dE1vdmVzLnB1c2godi5jb29yZHNbMF0tMSwgdi5jb29yZHNbMV0tMilcbiAgICB9IFxuXG4gICAgLy9kZHJcbiAgICAvLyBpZiAodlswXSsxIDwgOCAmJiB2WzFdLTIgPj0wKSB7XG4gICAgaWYgKHYuY29vcmRzWzBdKzEgPCA4ICYmIHYuY29vcmRzWzFdLTIgPj0wKSB7XG4gICAgICAgIC8vIGxldCBtb3ZlID0gbmV3R3JhcGguZ2V0VmVydGV4KHZbMF0rMSx2WzFdLTIpWzBdXG4gICAgICAgIC8vIG5ld0dyYXBoLmFkZEVkZ2UodiwgbW92ZSlcbiAgICAgICAgdi5uZXh0TW92ZXMucHVzaCh2LmNvb3Jkc1swXSsxLCB2LmNvb3Jkc1sxXS0yKVxuICAgIH0gXG5cbiAgICAvL2RyclxuICAgIC8vIGlmICh2WzBdKzIgPCA4ICYmIHZbMV0tMSA+PTApIHtcbiAgICBpZiAodi5jb29yZHNbMF0rMiA8IDggJiYgdi5jb29yZHNbMV0tMSA+PTApIHtcbiAgICAgICAgLy8gbGV0IG1vdmUgPSBuZXdHcmFwaC5nZXRWZXJ0ZXgodlswXSsyLHZbMV0tMSlbMF1cbiAgICAgICAgLy8gbmV3R3JhcGguYWRkRWRnZSh2LCBtb3ZlKVxuICAgICAgICB2Lm5leHRNb3Zlcy5wdXNoKHYuY29vcmRzWzBdKzIsIHYuY29vcmRzWzFdLTEpXG4gICAgfSBcbn1cblxuLy8gcmV0dXJuIHdoZW4gYSBjZXJ0YWluIHBvc2l0aW9uIGlzIHJlYWNoZWQuIGhtbSwgaG93IGRvIGkgYnVpbGQgdGhlIGNvdW50ZXIgYW5kIHF1ZXVlPyB3aGF0IHdvdWxkIGl0IGRvP1xuXG4vLyBzdGFydCBhbmQgZW5kIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIGNvb3JkaW5hdGVzXG4vLyBhZGQgdG8gYW4gYXJyYXkgZm9yIHZpc2l0ZWQgbm9kZXNcbi8vIGFkZCB0byBhbiBhcnJheSBmb3IgdGhlIHF1ZXVlP1xuXG4vLyBpJ20gc3VyZSBpIGRvbid0IG5lZWQgYSBxdWV1ZSB0byBnbyB1bnRpbCBpdCBpcyBsZW5ndGggMC4uLiwganVzdCBuZWVkIHRvIHN0b3Agd2hlbiBub2RlIGlzIGZvdW5kXG4vLyBpcyB0aGUgcXVldWUgZmxhd2VkP1xuLy8gaG93IGRvIGkgYWRkIHRoZSBjb3JyZWN0IG1vdmUgZmlyc3QsIGFuZCBpZiBpdCBpc24ndCB0aGVyZSwgYWRkIGFsbCBvZiB0aGUgdGhpbmdzOyBpIHRoaW5rIGkndmUgZG9uZSB0aGF0XG4vLyBidXQgdGhlbiBob3cgZG8gaS4uLiBvbmx5IGFkZCB0aGUgc2hvcnRlc3QgcGF0aD9cbi8vIE9IIFNISVQgaXMgdGhpcyB3aGVyZSBsZXZlbCBvcmRlciBjb21lcyBpbj8gZG8gaSBuZWVkIHRvIGJ1aWxkIGEgdHJlZSBmcm9tIHRoaXM/IGhvdyBkbyBpIGJ1aWxkIGEgdHJlZSBmcm9tIHRoZXNlIG1vdmVzP1xuLy8gb2theSwgbWlnaHQgXG5cbmZ1bmN0aW9uIGtuaWdodE1vdmVzKHN0YXJ0LCBlbmQpIHtcblxuICAgIGZ1bmN0aW9uIHJlY3Vyc2l2ZUJ1aWxkVHJlZShwb3NpdGlvbiwgZW5kLCB2aXNpdGVkPVtzdGFydF0sIHF1ZXVlPVtdKSB7XG4gICAgICAgIGxldCBzaG9ydGVzdFBhdGggPSBgJHtKU09OLnN0cmluZ2lmeShwb3NpdGlvbil9YDtcbiAgICAgICAgLy8gZ2V0IG5laWdoYm91cmluZyBtb3ZlcyBvZiBjdXJyZW50IHBvc2l0aW9uOyBuZXdHcmFwaCBzdG9yZXMgYWxsIHBvc2l0aW9ucyBhbmQgbmVpZ2hib3VyaW5nIG1vdmVzIGZvciBlYWNoIHBvc2l0aW9uXG4gICAgICAgIGxldCBtb3ZlcyA9IG5ld0dyYXBoLmdldFZlcnRleChwb3NpdGlvblswXSxwb3NpdGlvblsxXSlbMV1cbiAgICAgICAgLy8gZmlyc3QsIGRldGVybWluZSBpZiBhbnkgb2YgdGhlc2UgbW92ZXMgYXJlIHRoZSBlbmQgcG9zaXRpb24uXG4gICAgICAgIGZvciAodiBvZiBtb3Zlcykge1xuICAgICAgICAgICAgLy8gY2hlY2sgaWYgY3VycmVudCBtb3ZlIGlzIHRoZSBlbmQgcG9zaXRpb25cbiAgICAgICAgICAgIGlmIChKU09OLnN0cmluZ2lmeSh2KSA9PT0gSlNPTi5zdHJpbmdpZnkoZW5kKSkge1xuICAgICAgICAgICAgICAgIHZpc2l0ZWQucHVzaChlbmQpXG4gICAgICAgICAgICAgICAgc2hvcnRlc3RQYXRoICs9IGAgJHtKU09OLnN0cmluZ2lmeSh2KX1gXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc2hvcnRlc3RQYXRoKVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGVsc2UsIGFkZCBhbGwgbW92ZXMgKG5vdCBhbHJlYWR5IG1hZGUpIHRvIHF1ZXVlXG4gICAgICAgIGZvciAodiBvZiBtb3Zlcykge1xuICAgICAgICAgICAgLy8gdGVzdCBpZiB0aGUgbW92ZSBoYXMgYmVlbiBtYWRlIGFscmVhZHkgKGluIHZpc2l0ZWQgYXJyYXkpXG4gICAgICAgICAgICBpZiAoIWlzQXJyYXlJbkFycmF5KHZpc2l0ZWQsIHYpKSB7XG4gICAgICAgICAgICAgICAgdmlzaXRlZC5wdXNoKHYpXG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh2KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZ2V0IHRoZSBwb3NpdGlvbiBhdCB0aGUgc3RhcnQgb2YgdGhlIHF1ZXVlXG4gICAgICAgIGxldCBuZXh0VmVydGV4ID0gcXVldWVbMF07XG4gICAgICAgIHF1ZXVlLnNoaWZ0KClcbiAgICAgICAgLy8gY2FsbCBhZ2FpblxuICAgICAgICAgbGV0IHJlY3Vyc2l2ZVBhdGggPSByZWN1cnNpdmVCdWlsZFRyZWUobmV4dFZlcnRleCwgZW5kLCB2aXNpdGVkLCBxdWV1ZSlcbiAgICAgICAgIC8vIGlmIHBhdGggZXZlbnR1YWxseSBjb250YWlucyB0aGUgZW5kIHBvc2l0aW9uLCBhZGQgdG8gdGhlIGNoYWluXG4gICAgICAgICBpZiAocmVjdXJzaXZlUGF0aC5pbmNsdWRlcyhKU09OLnN0cmluZ2lmeShlbmQpKSkge1xuICAgICAgICAgICAgc2hvcnRlc3RQYXRoICs9IHJlY3Vyc2l2ZVBhdGhcbiAgICAgICAgIH1cbiAgICAgICAgLy8gcmV0dXJuIHNob3J0ZXN0UGF0aDtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIHJldHVybiByZWN1cnNpdmVCdWlsZFRyZWUoc3RhcnQsIGVuZClcbn1cblxuY29uc29sZS5sb2coXG5rbmlnaHRNb3ZlcyhbMywzXSwgWzAsMF0pXG4vLyBrbmlnaHRNb3ZlcyhbMCwwXSwgWzMsM10pXG4pIl0sIm5hbWVzIjpbImlzQXJyYXlJbkFycmF5IiwiYXJyYXkiLCJpdGVtIiwiZmluZCIsImVsIiwiSlNPTiIsInN0cmluZ2lmeSIsIk5vZGUiLCJjb25zdHJ1Y3RvciIsImNvbCIsInJvdyIsInRoaXMiLCJjb29yZHMiLCJuZXh0TW92ZXMiLCJuZXdHcmFwaCIsIm51bVZlcnRpY2VzIiwiQWRqTGlzdCIsIk1hcCIsImFkZFZlcnRleCIsInYiLCJzZXQiLCJnZXRWZXJ0ZXgiLCJ2ZXJ0ZXgiLCJtb3Zlc0xpc3QiLCJhZGRFZGdlIiwidyIsImdldCIsInB1c2giLCJwcmludEdyYXBoIiwiZ2V0S2V5cyIsImtleXMiLCJpIiwiaiIsImdldFZhbHVlcyIsImNvbmMiLCJjb25zb2xlIiwibG9nIiwidmVydGljZXMiLCJuZXdOb2RlIiwic3RhcnQiLCJyZWN1cnNpdmVCdWlsZFRyZWUiLCJwb3NpdGlvbiIsImVuZCIsInZpc2l0ZWQiLCJxdWV1ZSIsInNob3J0ZXN0UGF0aCIsIm1vdmVzIiwibmV4dFZlcnRleCIsInNoaWZ0IiwicmVjdXJzaXZlUGF0aCIsImluY2x1ZGVzIl0sInNvdXJjZVJvb3QiOiIifQ==